{"ast":null,"code":"var _jsxFileName = \"C:\\\\REACT\\\\2048\\\\my-app\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { useEvent, getColors } from './util';\n\nfunction App() {\n  const UP_ARROW = 38;\n  const DOWN_ARROW = 40;\n  const LEFT_ARROW = 37;\n  const RIGHT_ARROW = 39;\n  const [data, setData] = useState([[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]); //initialize\n\n  const initialize = () => {\n    let newGrid = cloneDeep(data);\n    console.log(newGrid);\n    addNumber(newGrid);\n    console.table(newGrid);\n    addNumber(newGrid);\n    console.table(newGrid);\n    setData(newGrid);\n  }; //AddNumber - Add an item\n\n\n  const addNumber = newGrid => {\n    let added = false;\n    let gridFull = false;\n    let attempts = 0;\n\n    while (!added) {\n      if (gridFull) {\n        break;\n      }\n\n      let rand1 = Math.floor(Math.random() * 4);\n      let rand2 = Math.floor(Math.random() * 4);\n      attempts++;\n\n      if (newGrid[rand1][rand2] == 0) {\n        newGrid[rand1][rand2] = Math.random() > 0.5 ? 2 : 4;\n        added = true;\n      }\n    }\n  }; //Swipe left\n\n\n  const swipeLeft = () => {\n    let oldGrid = data;\n    let newArray = cloneDeep(data);\n    console.table(newArray);\n\n    for (let i = 0; i < 4; i++) {\n      let b = newArray[i];\n      let slow = 0;\n      let fast = 1;\n\n      while (slow < 4) {\n        if (fast == 4) {\n          fast = slow + 1;\n          slow++;\n          continue;\n        }\n\n        if (b[slow] == 0 && b[fast] == 0) {\n          fast++;\n        } else if (b[slow] == 0 && b[fast] != 0) {\n          b[slow] = b[fast];\n          b[fast] = 0;\n          fast++;\n        } else if (b[slow] != 0 && b[fast] == 0) {\n          fast++;\n        } else if (b[slow] != 0 && b[fast] != 0) {\n          if (b[slow] == b[fast]) {\n            b[slow] = b[slow] + b[fast];\n            b[fast] = 0;\n            fast = slow + 1;\n            slow++;\n          } else {\n            slow++;\n            fast = slow + 1;\n          }\n        }\n      }\n    }\n\n    if (JSON.stringify(oldGrid) != JSON.stringify(newArray)) {\n      addNumber(newArray);\n    }\n\n    setData(newArray);\n  };\n\n  const swipeRight = () => {};\n\n  const swipeUp = () => {};\n\n  const swipeDown = () => {}; //check gameover\n  //reset\n  //handle key down \n\n\n  const handleKeyDown = event => {\n    switch (event.keyCode) {\n      case UP_ARROW:\n        swipeUp();\n        break;\n\n      case DOWN_ARROW:\n        swipeDown();\n        break;\n\n      case LEFT_ARROW:\n        swipeLeft();\n        break;\n\n      case RIGHT_ARROW:\n        swipeRight();\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  useEffect(() => {\n    initialize();\n    document.addEventListener(\"keydown\", handleKeyDown);\n  }, []);\n  useEvent(\"keydown\", handleKeyDown);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      background: \"#AD9D8F\",\n      width: \"max-content\",\n      margin: \"auto\",\n      padding: 5,\n      borderRadius: 5,\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 5\n    }\n  }, data.map((row, oneIndex) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      key: oneIndex,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }\n    }, row.map((digit, index) => /*#__PURE__*/React.createElement(Block, {\n      num: digit,\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }\n    })));\n  }));\n}\n\nconst Block = ({\n  num\n}) => {\n  const {\n    blockstyle\n  } = style;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: { ...blockstyle,\n      background: getColors(num) //color: num == 2|| num == 4 ? \"#645B52\"\n\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 3\n    }\n  }, num != 0 ? num : \"\");\n};\n\nconst style = {\n  blockstyle: {\n    height: 80,\n    width: 80,\n    backgraound: \"lightgray\",\n    margin: 3,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    fontSize: 45,\n    fontWeight: \"800\",\n    color: \"white\"\n  }\n};\nexport default App;","map":{"version":3,"sources":["C:/REACT/2048/my-app/src/App.js"],"names":["React","useState","useEffect","cloneDeep","useEvent","getColors","App","UP_ARROW","DOWN_ARROW","LEFT_ARROW","RIGHT_ARROW","data","setData","initialize","newGrid","console","log","addNumber","table","added","gridFull","attempts","rand1","Math","floor","random","rand2","swipeLeft","oldGrid","newArray","i","b","slow","fast","JSON","stringify","swipeRight","swipeUp","swipeDown","handleKeyDown","event","keyCode","document","addEventListener","background","width","margin","padding","borderRadius","marginTop","map","row","oneIndex","display","digit","index","Block","num","blockstyle","style","height","backgraound","justifyContent","alignItems","fontSize","fontWeight","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { useEvent, getColors } from './util';\n\nfunction App() {\n\n  const UP_ARROW = 38;\n  const DOWN_ARROW = 40;\n  const LEFT_ARROW = 37;\n  const RIGHT_ARROW = 39;\n\n  const [data, setData] = useState([\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n  ]);\n   \n  //initialize\n  const initialize = () => {\n    \n    \n    let newGrid = cloneDeep(data);\n    console.log(newGrid);\n    \n    addNumber(newGrid);\n    console.table(newGrid); \n    addNumber(newGrid); \n    console.table(newGrid);\n    setData(newGrid);\n  };\n  \n  //AddNumber - Add an item\n  const addNumber = (newGrid) => {\n    let added = false;\n    let gridFull = false;\n    let attempts = 0;\n    while (!added) {\n      if(gridFull) {\n        break;\n      }\n      let rand1 = Math.floor(Math.random() * 4);\n      let rand2 = Math.floor(Math.random() * 4);\n      attempts ++;\n      if(newGrid[rand1][rand2] == 0){\n        newGrid[rand1][rand2] = Math.random() > 0.5 ? 2 : 4;\n        added = true;\n      }\n    }\n  };\n  \n  //Swipe left\n  const swipeLeft = () => {\n    let oldGrid = data;\n    let newArray = cloneDeep(data);\n    console.table(newArray);\n    for(let i = 0; i < 4; i++) {\n      let b = newArray[i];\n      let slow = 0;\n      let fast = 1;\n      while(slow < 4) {\n        if(fast == 4) {\n          fast = slow +1;\n          slow++;\n          continue;\n        }\n        if(b[slow] == 0 && b[fast] == 0){\n          fast++;\n        } else if (b[slow] == 0 && b[fast] != 0) {\n          b[slow] = b[fast];\n          b[fast] = 0;\n          fast++;\n        } else if (b[slow] != 0 && b[fast] == 0) {\n          fast++;\n        } else if (b[slow] != 0 && b[fast] != 0) {\n          if (b[slow] == b[fast]) {\n            b[slow] = b[slow] + b[fast];\n            b[fast] = 0;\n            fast = slow +1;\n            slow ++;\n          } else {\n            slow ++;\n            fast = slow +1;\n          }\n        }\n      }\n    }\n    if(JSON.stringify(oldGrid) != JSON.stringify(newArray)){\n      addNumber(newArray);\n    } \n    setData(newArray);\n  };\n  const swipeRight = () => {\n\n  }\n  const swipeUp = () => {\n\n  }\n  const swipeDown = () => {\n\n  }\n\n\n  //check gameover\n  //reset\n  //handle key down \n  const handleKeyDown = (event) => {\n    switch(event.keyCode) {\n      case UP_ARROW:\n        swipeUp();\n        break;\n      case DOWN_ARROW:\n        swipeDown();\n        break;\n      case LEFT_ARROW:\n        swipeLeft();\n        break;\n      case RIGHT_ARROW:\n        swipeRight();\n        break;\n      default:\n        break;\n    }\n  };\n\n  useEffect(() => {\n    initialize();\n    document.addEventListener(\"keydown\", handleKeyDown);\n  }, []);\n\n  useEvent(\"keydown\", handleKeyDown);\n  return (\n    <div style = {{\n      background: \"#AD9D8F\",\n      width: \"max-content\",\n      margin: \"auto\",\n      padding: 5,\n      borderRadius: 5,\n      marginTop: 10,\n    }}>\n      {data.map((row, oneIndex) => {\n      return (\n        <div style = {{ display: \"flex\" }} key = {oneIndex} >\n          {row.map((digit, index) => (\n            <Block num = {digit} key = {index} />\n          ))}\n          </div>\n        );\n    })}\n    </div>\n  );\n  \n  \n}\nconst Block = ({num}) => {\n  const {blockstyle} = style;\n  return ( \n  <div\n    style = {{\n      ...blockstyle,\n      background: getColors(num),\n      //color: num == 2|| num == 4 ? \"#645B52\"\n    }}\n  >\n    \n        {num != 0 ? num: \"\"}\n  </div>\n)}\nconst style = {\n  blockstyle: {\n    height: 80,\n    width: 80,\n    backgraound: \"lightgray\",\n    margin: 3,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    fontSize: 45,\n    fontWeight: \"800\",\n    color: \"white\",\n  },\n};\nexport default App;\n"]},"metadata":{},"sourceType":"module"}